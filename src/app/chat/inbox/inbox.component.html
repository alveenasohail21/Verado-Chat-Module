<div class="content">
    <div class="contact-profile">
        <img [src]="avatar" alt="" />
        <!-- Render the name of the user -->
        <p>{{name}}</p>
    </div>
    <div class="messages" #scrollMe [scrollTop]="scrollMe.scrollHeight">

        <ul>
            <div [@smooth]="state" *ngIf="(conversations.length > 0) ? false : true" class="chat-preview">
                <img src='https://npm-assets.fiverrcdn.com/assets/@fiverr/inbox_perseus/magnifier.ca2ae8a.svg'>
                <p>No conversations</p>
            </div>

            <!-- Rendering Messages -->
            <li [@smoothchange]="state" *ngFor="let message of conversations" [ngClass]=" message.sender !== undefined ? 'sent': 'replies' ">
                <img [src]="avatar" alt="" />
                <p *ngIf="message.sender !== undefined">{{ message.sender }}</p>
                <p *ngIf="message.me !== undefined">{{ message.me }}</p>
                <!-- <br/>
                <br/> -->
                <span *ngIf='message.specialOffer'>
                    <p *ngIf="message.amount !== null  ">{{ message.amount }}</p>
                </span>
            </li>
        </ul>
    </div>
    <div class="message-input">
        <ng-template #content let-c="close" let-d="dismiss">
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Special Offer</h4>
                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="message" class="form-group">
                    <input type="text" name="first_name" class="form-control" value="" placeholder="Offer Details ... " formControlName="me"
                    />
                    <br/>
                    <input type="number" name="first_name" class="form-control" value="" placeholder="Amount ... " formControlName="amount" />
                </form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-dark" [disabled]="!message.valid" (click)="c('Save click')" (click)='sendSpecialOffer()'>Save</button>
            </div>
        </ng-template>
        <form [formGroup]="message" class="wrap">
            <input type="text" name="first_name" value="" placeholder="Write your message..." formControlName="me" />
            <button class="submit" type="submit" [disabled]="!message.valid" (click)="send()">
                <i class="fa fa-paper-plane" aria-hidden="true"></i>
            </button>
            <button class="submit plus" type="submit" (click)="open(content)">
                <i class="fa fa-plus" aria-hidden="true"></i>
            </button>
        </form>
    </div>
</div>
